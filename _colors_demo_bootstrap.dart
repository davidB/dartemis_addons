import "dart:async" as OB;import "dart:math" as PB;import "dart:collection" as HC;import "dart:html" as n;class qE{static const  rE="Chrome";static const  sE="Firefox";static const  tE="Internet Explorer";static const  uE="Safari";final  LE;final  minimumVersion;const qE(this.LE,[this.minimumVersion]);}class vE{const vE();}class wE{final  name;const wE(this.name);}class xE{const xE();}class yE{const yE();} hC(){} iC(){var OF=n.document.body;var PF;var QF=new rB(OF);PF=OF.nodes[1].nodes[3];QF.RB(new zE()..host=PF);QF.MB();QF.insert();}main(){TC=false;IB.lB.dE.listen((g){print('${g.ZB.name.toLowerCase()}: ${g.message}');});hC();iC();}class zE extends XC{var RF;static final jC=new n.BRElement(),kC=new n.BRElement(),lC=new n.Element.html('<span class="cs_sampletxt"></span>'),mC=new n.Element.html('<span class="cs_samplebox" style="background-color:{{irgba_hexHtml(c)}}"></span>'),nC=new n.BRElement(),oC=new n.Element.html('<span class="cs_sampletxt"></span>'),pC=new n.Element.html('<span class="cs_samplebox" style="background-color:{{irgba_hexHtml(c)}}"></span>'),qC=new n.Element.html('<span class="cs_sampletxt"></span>'),rC=new n.Element.html('<span class="cs_samplebox" style="background-color:{{irgba_hexHtml(c)}}"></span>'),sC=new n.BRElement(),tC=new n.Element.html('<span class="cs_sampletxt"></span>'),uC=new n.Element.html('<span class="cs_samplebox" style="background-color:{{irgba_hexHtml(c)}}"></span>'),vC=new n.BRElement(),wC=new n.Element.html('<span class="cs_sampletxt"></span>'),xC=new n.Element.html('<span class="cs_samplebox" style="background-color:{{irgba_hexHtml(c)}}"></span>'),yC=new n.DocumentFragment.html('''
        <div class="container-fluid">
          <div class="span3">
            <canvas class="cs_sv" width="104" height="104"></canvas>
            <canvas class="cs_h" width="14" height="104"></canvas>
          </div>
          <fieldset class="span3">
            <legend>RGB</legend>
            <div><label></label><input type="range" min="0" max="255" step="1"></div>
            <div><label></label><input type="range" min="0" max="255" step="1"></div>
            <div><label></label><input type="range" min="0" max="255" step="1"></div>
            <div><label>html : </label><input type="text"></div>
            <div><label>irgba : </label><input type="text"></div>
          </fieldset>
          <fieldset class="span3">
            <legend>HSV</legend>
            <div><label></label><input type="range" min="0" max="360" step="1"></div>
            <div><label></label><input type="range" min="0" max="100" step="1"></div>
            <div><label></label><input type="range" min="0" max="100" step="1"></div>
          </fieldset>
          <fieldset class="span3">
            <legend>Modifier</legend>
            <div>
             <button class="btn">complement</button>
             <button class="btn">greyscale</button>
            </div>
            <div>
              <button class="btn">lighten 10%</button>
              <button class="btn">darken 10%</button>
            </div>
            <div>
              <button class="btn">saturate 10%</button>
              <button class="btn">desaturate 10%</button>
            </div>
            <div>
              <button class="btn">random</button>
            </div>
          </fieldset>
          <fieldset class="span3">
            <legend>triad</legend>
            <div></div>
          </fieldset>
          <fieldset class="span3">
            <legend>tetrad</legend>
            <div></div>
          </fieldset>
          <fieldset class="span3">
            <legend>split complement</legend>
            <div></div>
          </fieldset>
          <fieldset class="span3">
            <legend>analogous</legend>
            <div></div>
          </fieldset>
          <fieldset class="span3">
            <legend>monochromatic</legend>
            <div></div>
          </fieldset>
        </div>
      ''');var SF,TF,UF,VF,WF,XF,YF;var ZF,aF;var bF,cF,dF,eF,fF;var gF,hF,iF,jF,kF,lF,mF,nF;var oF,pF,qF,rF,sF,tF;var uF; QE(){var vF=createShadowRoot("x-colorselector");jE("x-colorselector",new zB({".cs_sampletxt":"cs_sampletxt",".cs_sv":"cs_sv",".cs_h":"cs_h",".cs_samplebox":"cs_samplebox","x-colorselector":"[is=\"x-colorselector\"]"}));RF=TE("x-colorselector");uF=new rB(vF);vF.nodes.add(yC.clone(true));ZF=vF.nodes[1].nodes[1].nodes[1];uF.listen(ZF.onClick,(h){nE(h);});aF=vF.nodes[1].nodes[1].nodes[3];uF.listen(aF.onClick,(h){XE(h);});sF=vF.nodes[1].nodes[3].nodes[3].nodes[0];var wF=uF.CB(()=>hB,false);sF.nodes.addAll([new n.Text('R : '),wF]);mF=vF.nodes[1].nodes[3].nodes[3].nodes[1];uF.listen(mF.onInput,(h){hB=mF.value;});uF.JB(()=>hB,(g){if(mF.value!=g)mF.value=g;},false,false);tF=vF.nodes[1].nodes[3].nodes[5].nodes[0];var xF=uF.CB(()=>fB,false);tF.nodes.addAll([new n.Text('G : '),xF]);nF=vF.nodes[1].nodes[3].nodes[5].nodes[1];uF.listen(nF.onInput,(h){fB=nF.value;});uF.JB(()=>fB,(g){if(nF.value!=g)nF.value=g;},false,false);oF=vF.nodes[1].nodes[3].nodes[7].nodes[0];var yF=uF.CB(()=>eB,false);oF.nodes.addAll([new n.Text('B : '),yF]);gF=vF.nodes[1].nodes[3].nodes[7].nodes[1];uF.listen(gF.onInput,(h){eB=gF.value;});uF.JB(()=>eB,(g){if(gF.value!=g)gF.value=g;},false,false);hF=vF.nodes[1].nodes[3].nodes[9].nodes[1];uF.listen(hF.onInput,(h){BC=hF.value;});uF.JB(()=>BC,(g){if(hF.value!=g)hF.value=g;},false,false);iF=vF.nodes[1].nodes[3].nodes[11].nodes[1];uF.listen(iF.onInput,(h){CC=iF.value;});uF.JB(()=>CC,(g){if(iF.value!=g)iF.value=g;},false,false);pF=vF.nodes[1].nodes[5].nodes[3].nodes[0];var zF=uF.CB(()=>gB,false);pF.nodes.addAll([new n.Text('H : '),zF,new n.Text('Â°')]);jF=vF.nodes[1].nodes[5].nodes[3].nodes[1];uF.listen(jF.onInput,(h){gB=jF.value;});uF.JB(()=>gB,(g){if(jF.value!=g)jF.value=g;},false,false);qF=vF.nodes[1].nodes[5].nodes[5].nodes[0];var AG=uF.CB(()=>iB,false);qF.nodes.addAll([new n.Text('S : '),AG,new n.Text('%')]);kF=vF.nodes[1].nodes[5].nodes[5].nodes[1];uF.listen(kF.onInput,(h){iB=kF.value;});uF.JB(()=>iB,(g){if(kF.value!=g)kF.value=g;},false,false);rF=vF.nodes[1].nodes[5].nodes[7].nodes[0];var BG=uF.CB(()=>jB,false);rF.nodes.addAll([new n.Text('V : '),BG,new n.Text('%')]);lF=vF.nodes[1].nodes[5].nodes[7].nodes[1];uF.listen(lF.onInput,(h){jB=lF.value;});uF.JB(()=>jB,(g){if(lF.value!=g)lF.value=g;},false,false);SF=vF.nodes[1].nodes[7].nodes[3].nodes[1];uF.listen(SF.onClick,(h){NE();});TF=vF.nodes[1].nodes[7].nodes[3].nodes[3];uF.listen(TF.onClick,(h){UE();});UF=vF.nodes[1].nodes[7].nodes[5].nodes[1];uF.listen(UF.onClick,(h){aE();});VF=vF.nodes[1].nodes[7].nodes[5].nodes[3];uF.listen(VF.onClick,(h){RE();});WF=vF.nodes[1].nodes[7].nodes[7].nodes[1];uF.listen(WF.onClick,(h){hE();});XF=vF.nodes[1].nodes[7].nodes[7].nodes[3];uF.listen(XF.onClick,(h){SE();});YF=vF.nodes[1].nodes[7].nodes[9].nodes[1];uF.listen(YF.onClick,(h){eE();});bF=vF.nodes[1].nodes[9].nodes[3];uF.aB(bF,()=>pE,(k,j,uF){var i=k[j];var CG,DG;CG=qC.clone(true);var EG=uF.CB(()=>QB(i),false);CG.nodes.add(EG);DG=rC.clone(true);uF.listen(DG.onClick,(h){color=i;});uF.bind(()=>HB(i),(FG){DG.attributes['style']='background-color:${FG.newValue}';},false);uF.addAll([new n.Text('\n              '),CG,new n.Text('\n              '),DG,new n.Text('\n              '),jC.clone(true),new n.Text('\n            ')]);});cF=vF.nodes[1].nodes[11].nodes[3];uF.aB(cF,()=>oE,(k,j,uF){var i=k[j];var GG,HG;GG=tC.clone(true);var IG=uF.CB(()=>QB(i),false);GG.nodes.add(IG);HG=uC.clone(true);uF.listen(HG.onClick,(h){color=i;});uF.bind(()=>HB(i),(FG){HG.attributes['style']='background-color:${FG.newValue}';},false);uF.addAll([new n.Text('\n              '),GG,new n.Text('\n              '),HG,new n.Text('\n              '),sC.clone(true),new n.Text('\n            ')]);});dF=vF.nodes[1].nodes[13].nodes[3];uF.aB(dF,()=>kE,(k,j,uF){var i=k[j];var JG,KG;JG=wC.clone(true);var LG=uF.CB(()=>QB(i),false);JG.nodes.add(LG);KG=xC.clone(true);uF.listen(KG.onClick,(h){color=i;});uF.bind(()=>HB(i),(FG){KG.attributes['style']='background-color:${FG.newValue}';},false);uF.addAll([new n.Text('\n              '),JG,new n.Text('\n              '),KG,new n.Text('\n              '),vC.clone(true),new n.Text('\n            ')]);});eF=vF.nodes[1].nodes[15].nodes[3];uF.aB(eF,()=>KE,(k,j,uF){var i=k[j];var MG,NG;MG=lC.clone(true);var OG=uF.CB(()=>QB(i),false);MG.nodes.add(OG);NG=mC.clone(true);uF.listen(NG.onClick,(h){color=i;});uF.bind(()=>HB(i),(FG){NG.attributes['style']='background-color:${FG.newValue}';},false);uF.addAll([new n.Text('\n              '),MG,new n.Text('\n              '),NG,new n.Text('\n              '),kC.clone(true),new n.Text('\n            ')]);});fF=vF.nodes[1].nodes[17].nodes[3];uF.aB(fF,()=>cE,(k,j,uF){var i=k[j];var PG,QG;PG=oC.clone(true);var RG=uF.CB(()=>QB(i),false);PG.nodes.add(RG);QG=pC.clone(true);uF.listen(QG.onClick,(h){color=i;});uF.bind(()=>HB(i),(FG){QG.attributes['style']='background-color:${FG.newValue}';},false);uF.addAll([new n.Text('\n              '),PG,new n.Text('\n              '),QG,new n.Text('\n              '),nC.clone(true),new n.Text('\n            ')]);});uF.MB();} YE(){uF.insert();} gE(){uF.remove();uF=ZF=aF=sF=mF=tF=nF=oF=gF=hF=iF=pF=jF=qF=kF=rF=lF=SF=TF=UF=VF=WF=XF=YF=bF=cF=dF=eF=fF=null;}var SG=0xaaaaaaff;get color=>SG;set color(g){SG=g;refresh();}get BC=>HB(color);set BC(g){color=PD(g);}get CC=>QB(color);set CC(g){color=QD(g);}get hB=>zC(color).toString();set hB(g){if(g==null||g.length<1)g="0";color=AD(color,int.parse(g,radix:10));}get fB=>BD(color).toString();set fB(g){if(g==null||g.length<1)g="0";color=CD(color,int.parse(g,radix:10));}get eB=>DD(color).toString();set eB(g){if(g==null||g.length<1)g="0";color=ED(color,int.parse(g,radix:10));}get gB=>(AB(color)[0]*360).toInt().toString();set gB(g){if(g==null||g.length<1)g="0";var h=AB(color);h[0]=int.parse(g,radix:10)/360.0;color=GB(h);}get iB=>(AB(color)[1]*100).toInt().toString();set iB(g){if(g==null||g.length<1)g="0";var h=AB(color);h[1]=int.parse(g,radix:10)/100.0;color=GB(h);}get jB=>(AB(color)[2]*100).toInt().toString();set jB(g){if(g==null||g.length<1)g="0";var h=AB(color);h[2]=int.parse(g,radix:10)/100.0;color=GB(h);}get pE=>KD(DB(color)).map(EB);get oE=>LD(DB(color)).map(EB);get kE=>MD(DB(color)).map(EB);get KE=>ND(DB(color)).map(EB);get cE=>OD(AB(color)).map(GB);NE(){color=EB(JD(DB(color)));}hE(){color=EB(FD(DB(color)));}SE(){color=EB(NC(DB(color)));}UE(){color=EB(GD(DB(color)));}aE(){color=EB(HD(DB(color)));}RE(){color=EB(ID(DB(color)));}eE(){color=MC();}lE(){var i=this.query('canvas.cs_sv') as n.CanvasElement;var g=i.context2d;var h=2;var m=(i.width-2*h)/100.0;var j=(i.height-2*h)/100.0;var o=AB(color);g.clearRect(0,0,i.width,i.height);for(var k=0;k<101; ++k){for(var l=0;l<101; ++l){g.fillStyle=HB(GB([o[0],k/100,l/100]));g.fillRect((100-k)*m+h,(100-l)*j+h,m,j);}}g.beginPath();g.arc((100-o[1]*100)*m+h,(100-o[2]*100)*j+h,h+PB.max(j,m),0,2*PB.PI);g.closePath();g.strokeStyle='#000000';g.stroke();}nE( g){var h=g.target as n.CanvasElement;mE(g.offsetX,g.offsetY,h.width,h.height);return true;}mE(k,m,i,l){var g=2;var o=(i-2*g)/100.0;var j=(l-2*g)/100.0;var h=AB(color);h[1]=(100-k-g)/(o*100.0);h[2]=(100-m-g)/(j*100.0);color=GB(h);}VE(){var h=this.query('canvas.cs_h') as n.CanvasElement;var i=h.context2d;var g=2;var l=h.width-(2*g);var j=(h.height-(2*g))/100.0;var o=AB(color)[0];i.clearRect(0,0,h.width,h.height);for(var k=0;k<101; ++k){var m=HB(GB([k/100.0,1.0,1.0]));i.fillStyle=m;i.fillRect(g,(k*j)+g,l,j);}i.strokeStyle='#000000';i.strokeRect(0,(o*100*j)+g,l+2*g,j+2*g);}XE( g){var h=g.target as n.CanvasElement;WE(g.offsetX,g.offsetY,h.width,h.height);return true;}WE(l,h,k,j){var i=(j-(2*2))/100.0;var g=AB(color);g[0]=(h-2)/(i*100.0);color=GB(g);} dC(){color=MC();refresh();} refresh(){lE();VE();}}zC( g)=>((g&0xff000000)>>24);AD( g, h)=>((g&0x00ffffff)|(h<<24));IC( g)=>((g&0xff000000)>>24)/255.0;BD( g)=>((g&0x00ff0000)>>16);CD( g, h)=>((g&0xff00ffff)|(h<<16));JC( g)=>((g&0x00ff0000)>>16)/255.0;DD( g)=>((g&0x0000ff00)>>8);ED( g, h)=>((g&0xffff00ff)|(h<<8));KC( g)=>((g&0x0000ff00)>>8)/255.0; LC( g, h, i){return 0x000000ff|((g*255).toInt()<<24)|((h*255).toInt()<<16)|((i*255).toInt()<<8);} MC()=>(new PB.Random().nextInt(0x1000000)<<8)|0xff; DB( q){var i=IC(q);var h=JC(q);var l=KC(q);var g=PB.max(PB.max(i,h),l);var j=PB.min(PB.min(i,h),l);var m,o,w=(g+j)/2;if(g==j){m=o=0;}else{var k=g-j;o=w>0.5?k/(2-g-j):k/(g+j);m=(g==i)?(h-l)/k+(h<l?6:0):(g==h)?(l-i)/k+2:(i-h)/k+4;m/= 6;}return [m,o,w];} EB( w){var l,o,q;var m=w[0];var k=w[1];var j=w[2];NB(g,i,h){if(h<0)h+= 1;if(h>1)h-= 1;if(h<1/6)return g+(i-g)*6*h;if(h<1/2)return i;if(h<2/3)return g+(i-g)*(2/3-h)*6;return g;}if(k==0.0){l=o=q=j;}else{var i=j<0.5?j*(1+k):j+k-j*k;var g=2*j-i;l=NB(g,i,m+1/3);o=NB(g,i,m);q=NB(g,i,m-1/3);}return LC(l,o,q);}AB( m){var i=IC(m);var h=JC(m);var j=KC(m);var g=PB.max(PB.max(i,h),j);var o=PB.min(PB.min(i,h),j);var l,q,w=g;var k=g-o;q=(g==0.0)?0.0:k/g;if(g==o){l=0.0;}else{l=(g==i)?(h-j)/k+(h<j?6:0):(g==h)?(j-i)/k+2:(i-h)/k+4;l/= 6;}return [l,q,w];}GB( l){var q=l[0]*6;var w=l[1];var o=l[2];var g=o*w;var k=g*(1-(q%2-1).abs());var NB=q.floor()%6;var h=0.0;var i=0.0;var j=0.0;switch (NB){case 0:h=g;i=k;j=0.0;break;case 1:h=k;i=g;j=0.0;break;case 2:h=0.0;i=g;j=k;break;case 3:h=0.0;i=k;j=g;break;case 4:h=k;i=0.0;j=g;break;case 5:h=g;i=0.0;j=k;break;}var m=o-g;return LC(h+m,i+m,j+m);}NC( g,[h=10]){g[1]-=(h/100);g[1]=PB.max(0.0,g[1]);return g;}FD( g,[h=10]){g[1]+=(h/100);g[1]=PB.min(1.0,g[1]);return g;}GD( g)=>NC(g,100);HD( g,[h=10]){g[2]+=(h/100);g[2]=PB.min(1.0,g[2]);return g;}ID( g,[h=10]){g[2]-=(h/100);g[2]=PB.max(0.0,g[2]);return g;}JD( g){g[0]=(g[0]+0.5)%1.0;return g;}KD( g){var h=g[0];return [g,[(h+0.333)%1.0,g[1],g[2]],[(h+0.666)%1.0,g[1],g[2]]];}LD( g){var h=g[0];return [g,[(h+0.25)%1.0,g[1],g[2]],[(h+0.50)%1.0,g[1],g[2]],[(h+0.75)%1.0,g[1],g[2]]];}MD( g){var h=g[0];return [g,[(h+0.20)%1.0,g[1],g[2]],[(h+0.60)%1.0,g[1],g[2]]];} ND( g,[ k=6, m=30]){var l=360~/m;var i=new List<List<double>>(k);i[0]=g;var j=((g[0]*360-(l*k>>1))+720)%360,o=g[1],q=g[2];for(var h=1;h<k; ++h){j=(j+l)%360;i[h]=[j/360,o,q];}return i;} OD( g,[ k=6]){var m=g[0],l=g[1],j=g[2];var i=new List<List<double>>(k);var o=1.0/k;i[0]=g;for(var h=1;h<k; ++h){j=(j+o)%1.0;i[h]=[m,l,j];}return i;}HB( g){var h=(g>>8)|0x1000000;return '#'+h.toRadixString(16).substring(1);}PD( g){if(g==null||g.length<2)g="#0";return int.parse(g.substring(1),radix:16)<<8|0x000000ff;}QB( g){var h=(g>>8)|0x1000000;return "0x"+h.toRadixString(16).substring(1)+(g&0xff|0x100).toRadixString(16).substring(1);}QD( g){if(g==null||g.length<3)g="0x0";return int.parse(g.substring(2),radix:16);}var kB=false;var RD=s.OC;class IB{final  name; get cC=>(parent==null||parent.name=='')?name:'${parent.cC}.${name}';final  parent;var TG;var children;var UG;var VG;factory IB( g){if(g.startsWith('.')){throw new ArgumentError("name shouldn't start with a '.'");}if(SB==null)SB=<String,IB>{};if(SB.containsKey(g))return SB[g];var j=g.lastIndexOf('.');var h=null;var i;if(j==-1){if(g!='')h=new IB('');i=g;}else{h=new IB(g.substring(0,j));i=g.substring(j+1);}final k=new IB.LF(i,h);SB[g]=k;return k;}IB.LF(this.name,this.parent):children=new Map<String,IB>(){if(parent!=null)parent.children[name]=this;} get ZB{if(kB){if(TG!=null)return TG;if(parent!=null)return parent.ZB;}return RD;} get dE=>WG(); ZE( g)=>(g>=ZB); log( i, k,[j]){if(ZE(i)){var h=new TB(i,k,cC,j);if(kB){var g=this;while (g!=null){g.XG(h);g=g.parent;}}else{lB.XG(h);}}} info( h,[g])=>log(s.OC,h,g); GC( h,[g])=>log(s.SD,h,g); WG(){if(kB||parent==null){if(UG==null){UG=new OB.StreamController<TB>.broadcast(sync:true);VG=UG.stream;}return VG;}else{return lB.WG();}} XG( g){if(UG!=null){UG.add(g);}}static  get lB=>new IB('');static var SB;}class s implements Comparable<s>{final  name;final  value;const s(this.name,this.value);static const  OC=const s('INFO',800);static const  SD=const s('WARNING',900); operator==( g)=>g!=null&&value==g.value; operator<( g)=>value<g.value; operator<=( g)=>value<=g.value; operator>( g)=>value>g.value; operator>=( g)=>value>=g.value; compareTo( g)=>value-g.value; get hashCode=>value; toString()=>name;}class TB{final  ZB;final  message;final  bE;final  time;final  iE;static var TD=0;var exception;TB(this.ZB,this.message,this.bE,[this.exception]):time=new DateTime.now(),iE=TB.TD++ ;}const AF=const BF();typedef  BB( e);typedef  UD( changes);typedef  FB();typedef  VD();class mB{final oldValue;final newValue;final  changes;mB(this.oldValue,this.newValue,[this.changes]); operator==(g){return g is mB&&oldValue==g.oldValue&&newValue==g.newValue&&changes==g.changes;} get hashCode=>dD(oldValue,newValue,changes); toString(){if(changes!=null)return '#<ChangeNotification to ${newValue}: ${changes}>';return '#<ChangeNotification from ${oldValue} to ${newValue}>';}}class PC{} WD(g, i,[ k]){if(g is LB){var h=g;return nB(h,(l){i(new mB(h,h,l));});}var j=new pB(g,i,k);if(!j.YG()){return XD;}return j.ZG;} nB( g, i){if(g.ZC==null)g.ZC=new qB();var h=g.ZC.add(i);return h.remove;}class LB{} XD(){}var bB;var oB;class pB{static var YD=0;final  aG= ++pB.YD;final  bG;final  cG;final  dG;final  eG=new Map();final  fG=[] ;var gG=false;var hG;pB(this.bG,this.cG,this.dG); toString()=>dG!=null?'<observer ${aG}: ${dG}>':'<observer ${aG}>'; YG(){var h=bB;bB=this;try {hG=bG();if(hG is Iterable&&hG is !List&&hG is !LB){hG=(hG as Iterable).toList();}}catch (g,i){QC(g,i,bG,'from ${this}');hG=null;}eG.forEach(iG);eG.clear();assert(bB==this);bB=h;jG();return fG.length>0;} kG( i){try {cG(i);}catch (g,h){QC(g,h,cG,'from ${this}');}} jG(){var g=hG;if(g is !LB)return;fG.add(nB(g,(h){kG(new mB(g,g,h));}));} iG( i, j){fG.add(nB(i,(k){if(gG)return;for(var g in k){var h=j[g.key];if(h!=null&&(h&g.type)!=0){gG=true;if(oB==null){oB=new HC.SplayTreeMap();}oB[aG]=this;return;}}}));} ZG(){for(var g in fG){g();}gG=false;}}typedef  ZD(error,stackTrace,obj, message);var QC=aD; aD(i,g,h, j){print('web_ui.observe: unhandled error calling ${h} ${j}.\n' 'error:\n${i}\n\nstack trace:\n${g}');}class BF{const BF();}class bD{}class cD{}class u<v>{var lG;var mG;var nG;var oG;u.MF( g,this.nG):oG=g{if(nG!=null)nG.pG++ ;} get next=>mG; get value=>oG;set value( g)=>oG=g; qG( g, h){mG=h;lG=g;if(g!=null)g.mG=this;if(h!=null)h.lG=this;return this;} append( g)=>new u<v>.MF(g,nG).qG(this,mG); remove(){if(nG==null)return;nG.pG-- ;if(lG!=null){lG.mG=mG;}else{nG.rG=mG;}if(mG!=null){mG.lG=lG;}else{nG.sG=lG;}mG=null;lG=null;nG=null;}}class qB<v> extends HC.IterableBase<v>{var rG;var sG; get length=>pG;var pG=0;qB(){} get head=>rG; add( h){var g=new u<v>.MF(h,this);if(sG==null)return rG=sG=g;return sG=g.qG(sG,null);} addLast( g)=>add(g); addAll( g)=>g.forEach(add); get iterator=>new CF<v>(this);}class CF<v> implements Iterator<v>{var tG;var nG;var uG;var vG=-1;CF(this.nG){tG=new List<u>(nG.length);var h=0;var g=nG.head;while (g!=null){tG[h++ ]=g;g=g.next;}} get current=>uG; moveNext(){do{vG++ ;}while(vG<tG.length&&tG[vG].nG!=nG);if(vG<tG.length){uG=tG[vG].value;return true;}else{uG=null;return false;}}}RC(h,g)=>h.hashCode*31+g.hashCode;dD(h,g,i)=>RC(RC(h,g),i); eD(i, g,[ h]){var j=i is bD;if(h==null){h=i.toString();}if(!j&&g is n.Text){g.text=h;}else{var k=g;g=j?new n.Element.html(h):new n.Text(h);k.replaceWith(g);}return g;} fD(g){if(g is cD)return g.toString();g=g.toString();return hD(g)?g:'#';}const gD=const["http","https","ftp","mailto"]; hD( h){var g=Uri.parse(h).scheme;if(g=='')return true;return gD.contains(g.toLowerCase())||"MAILTO"==g.toUpperCase();}abstract class UB{ MB(){} insert(); remove();}class DF extends UB{final  bC;var wG;final  listener;DF(this.bC,this.listener); insert(){wG=bC.listen(listener);} remove(){wG.cancel();wG=null;}}abstract class SC extends UB{final exp;final  isFinal;final  AC;var KB;SC(this.exp,this.isFinal):AC=sB&&cB!=null?cB():null; insert(){if(isFinal){DC();}else if(KB!=null){throw new StateError('binding already attached');}else{KB=FC();}} remove(){if(!isFinal){KB();KB=null;}} DC(); FC();}class EF extends SC{final  action;EF(g,this.action, h):super(g,h); DC()=>action(new mB(null,exp())); FC()=>tB(exp,action,'generic-binding',AC);}class FF extends SC{final  gC;final  eC;FF( g,this.gC,this.eC, h):super(g,h); xG(g){gC(eC?fD(g):g);} DC()=>xG(exp()); FC()=>tB(exp,(g)=>xG(g.newValue),'dom-property-binding',AC);}class GF extends UB{final RB;GF(this.RB); MB(){RB..QE()..PE()..OE();} insert(){RB..dC()..YE();} remove(){RB..gE()..fE();}}class rB extends UB{final  EC;final  children=[] ;final  nodes=[] ;rB(this.EC); listen( i, h){children.add(new DF(i,(g){h(g);mD();}));} bind(g, i, h){children.add(new EF(g,i,h));} CB( h,i){var g=new n.Text('');children.add(new EF(()=>'${h()}',(j){g=eD(h(),g,j.newValue);},i));return g;} JB(g,j,h,[i=false]){children.add(new FF(g,j,i,h));} aB( h,g,i){children.add(new HF(h,g,i));} RB( g){children.add(new GF(g));} add( g)=>nodes.add(g); addAll( g)=>nodes.addAll(g); MB(){for(var g=0,h=children.length;g<h;g++ ){children[g].MB();}} insert(){for(var g=0,h=children.length;g<h;g++ ){children[g].insert();}} remove(){for(var g=children.length-1;g>=0;g-- ){children[g].remove();}children.clear();}}typedef  iD( list, index, template);class HF extends rB{final  fC;final exp;var KB;HF( g,this.exp,this.fC):super(g); MB(){} insert(){KB=tB(exp,(i){yG();var h=i.newValue;for(int g=0;g<h.length;g++ ){fC(h,g,this);}super.MB();EC.nodes.addAll(nodes);super.insert();},'loop-attribute-binding');} yG(){super.remove();EC.nodes.clear();nodes.clear();} remove(){yG();KB();KB=null;}}var TC=false;var sB=false;var cB=(){try {throw "";}catch (h,g){return g.toString();}};final  VB=new IB('watcher'); jD(g, m,[ j, l]){if(TC)return WD(g,m);if(m==null)return (){};if(WB==null)WB=new qB<XB>();j=j==null?'<unnamed>':j;var i;var h=t.qD;if(g is WC){i=(g as WC).zG;}else if(g is Function){i=g;try {var k=g();if(k is List){h=t.YB;}else if(k is Iterable){h=t.YB;i=()=>g().toList();}else if((k is HC.LinkedHashMap)||(k is HC.SplayTreeMap)){h=t.wB;}else if(k is Map){h=t.vB;}}catch (o,w){VB.GC('evaluating ${j} watcher threw error (${o}, ${w})');}}else if(g is List){i=()=>g;h=t.YB;}else if(g is Iterable){i=()=>g.toList();h=t.YB;}else if((g is HC.LinkedHashMap)||(g is HC.SplayTreeMap)){i=()=>g;h=t.wB;}else if(g is Map){i=()=>g;h=t.vB;}if(sB&&l==null&&cB!=null){l=cB();}var NB=kD(h,i,m,j,l);var q=WB.add(NB);return q.remove;} kD( k, g, j, h, i){switch (k){case t.YB:return new IF(g,j,h,i);case t.wB:return new KF(g,j,h,i);case t.vB:return new JF(g,j,h,i);default:return new XB(g,j,h,i);}} tB(h, i,[ j, k]){var l=jD(h,i,j,k);var g=h;if(g is Function){g=g();}if(g is Iterable&&g is !List){g=g.toList();}i(new mB(null,g));return l;}var WB;class XB{final  aC;var location;final  AH;static var lD=0;final  zG;final  BH;var CH;XB(this.zG,this.BH,this.aC,this.location):AH=lD++ {CH=zG();} toString()=>'${aC} (id: #${AH})'; ME(){var g=DH();if(EH(g)){var h=CH;FH(g);BH(new mB(h,g));return true;}return false;} EH(g)=>CH!=g; FH(g){if(sB){if(location!=null){VB.info('watcher updated: ${this}, defined at:\n${location}');location=null;}else{VB.info('watcher updated: ${this}');}}CH=g;}DH(){try {return zG();}catch (g,h){VB.GC('${this} watcher threw an exception: ${g}, ${h}');}return CH;}}final  UC=10; mD(){if(WB==null)return;var g;var h=0;do{g=false;for(var i in WB){if(i.ME()){g=true;}}}while(g&& ++h<UC);if(h==UC){VB.GC('Possible loop in watchers propagation, stopped dispatch.');}}typedef  VC<nD>();typedef  oD<nD>( value);class WC<nD>{}class IF<nD> extends XB{IF(g, j, h, i):super(g,j,h,i){FH(DH());} EH( g){return uB(CH,g);} FH(g){CH=new List<nD>.from(g);}}class JF<dB,pD> extends XB{JF(g, j, h, i):super(g,j,h,i){FH(DH());} EH( g){var i=CH.keys;if(i.length!=g.keys.length)return true;var j=i.iterator;while (j.moveNext()){var h=j.current;if(!g.containsKey(h))return true;if(CH[h]!=g[h])return true;}return false;} FH(g){CH=new Map<dB,pD>.from(g);}}class KF<dB,pD> extends XB{KF(g, j, h, i):super(g,j,h,i){FH(DH());} EH( g){return uB(g.keys,CH.keys)||uB(g.values,CH.values);} FH(g){CH=new HC.LinkedHashMap.from(g);}} uB( i, j){var h=i.iterator;var g=j.iterator;while (h.moveNext()){if(!g.moveNext())return true;if(h.current!=g.current)return true;}return g.moveNext();}class t{final GH;const t.NF(this.GH);toString()=>'Enum.${GH}';static const YB=const t.NF('LIST');static const vB=const t.NF('HASH_MAP');static const wB=const t.NF('ORDERED_MAP');static const qD=const t.NF('OTHER');}abstract class XC implements n.Element{var HH;var IH;var JH={};var KH=new zB({}); TE( g)=>KH; jE( h,var g){KH=g;} get host{if(HH==null)throw new StateError('host element has not been set.');return HH;}set host( g){if(g==null){throw new ArgumentError('host must not be null.');}var h=g.xtag;if(h!=null&&h!=g){throw new ArgumentError('host must not have its xtag property set.');}if(HH!=null){throw new StateError('host can only be set once.');}g.xtag=this;HH=g;}createShadowRoot([ g]){var h=LH();if(g!=null){JH[g]=h;}return h;}LH(){if(YC){return host.createShadowRoot();}if(IH==null)IH=[] ;IH.add(new n.DivElement());return IH.last;} PE(){} dC(){} fE(){} bind( g,h, i)=>host.bind(g,h,i); OE(){if(YC)return;if(IH.length==0){throw new StateError('Distribution algorithm requires at least one shadow' ' root and can only be run once.');}var j=IH;var g=j.removeLast();var m=g;var l=new List.from(nodes);var k=[] ;var o=[] ;while (true){l=MH(g,l);var h=g.query('shadow');if(h!=null){if(j.length>0){g=j.removeLast();k.add(h);o.add(g);}else{yB(h,l);break;}}else{break;}}for(int i=0;i<k.length;i++ ){var h=k[i];var g=o[i];yB(h,g.nodes);}nodes.clear();nodes.addAll(m.nodes);for(var q in JH.keys){if(JH[q]==m){JH[q]=this;break;}}} MH( m, j){for(var g in m.queryAll('content')){if(!sD(g))continue;var i=g.attributes['select'];if(i==null||i=='')i='*';var h=[] ;var l=[] ;for(var k in j){(rD(k,i)?h:l).add(k);}if(h.length==0){h=g.nodes;}yB(g,h);j=l;}return j;}static  rD( h, g){if(h is !n.Element)return g=='*';return (h as n.Element).matches(g);}static  xB( g)=>g.tagName=='CONTENT'||g.tagName=='SHADOW';static  sD( g){assert(xB(g));for(g=g.parent;g!=null;g=g.parent){if(xB(g))return false;}return true;}static  yB( g, h){assert(xB(g));g.parent.insertAllBefore(h,g);g.remove();} get nodes=>host.nodes; replaceWith( g){host.replaceWith(g);} remove()=>host.remove();set text( g){host.text=g;} contains( g)=>host.contains(g); insertBefore( g, h)=>host.insertBefore(g,h); insertAllBefore( g, h)=>host.insertAllBefore(g,h); get attributes=>host.attributes; get children=>host.children; clone( g)=>host.clone(g); get parent=>host.parent; get parentNode=>host.parentNode; get nodeValue=>host.nodeValue; get id=>host.id;set id( g){host.id=g;} set innerHtml( g){host.innerHtml=g;} get tagName=>host.tagName; matches( g)=>host.matches(g); query( g)=>host.query(g); queryAll( g)=>host.queryAll(g); get xD=>host.xD; get yD=>host.yD; get BE=>host.BE; zD( g)=>host.zD(g); AE( g)=>host.AE(g); EE( g)=>host.EE(g); FE( g)=>host.FE(g); JE( h, g)=>host.JE(h,g);get vD=>host.vD; get wD=>host.wD; get firstChild=>host.firstChild; get localName=>host.localName; get CE=>host.CE; get DE=>host.DE; uD( i, g,[ h]){host.uD(i,g,h);} GE( g)=>host.GE(g); HE( i, g,[ h]){host.HE(i,g,h);} IE( g, h)=>host.IE(g,h);get xtag=>host.xtag;set xtag(g){host.xtag=g;} append( g)=>host.append(g); get onClick=>host.onClick; get onInput=>host.onInput;}class zB{final  NH;zB(this.NH); operator[]( g)=>NH[g];}var tD=false; get YC=>tD&&n.ShadowRoot.supported;//@ sourceMappingURL=_colors_demo_bootstrap.dart.map
